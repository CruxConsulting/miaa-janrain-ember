<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Janrain</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    {{content-for "head"}}

    <link rel="stylesheet" href="{{rootURL}}assets/vendor.css">
    <link rel="stylesheet" href="{{rootURL}}assets/miaa-janrain-ember.css">
    <link href="https://cdn-stg.miaaguard.com/jnj_6iQyNXjgZn/widget/pl_pl_ePpmJqDa9W/css/miaa.css" rel="stylesheet">

    {{content-for "head-footer"}}
  </head>
  <body>
    {{content-for "body"}}

    <script src="{{rootURL}}assets/vendor.js"></script>
    <script src="{{rootURL}}assets/miaa-janrain-ember.js"></script>

    <script src="https://cdn-stg.miaaguard.com/jnj_6iQyNXjgZn/widget/pl_pl_ePpmJqDa9W/js/tether.min.js"></script>
    <script src="https://cdn-stg.miaaguard.com/jnj_6iQyNXjgZn/widget/pl_pl_ePpmJqDa9W/js/bootstrap.js"></script>
    <script src="https://cdn-stg.miaaguard.com/jnj_6iQyNXjgZn/widget/pl_pl_ePpmJqDa9W/js/phoneLibCompiled.js"></script>
    <script src="https://cdn-stg.miaaguard.com/jnj_6iQyNXjgZn/widget/pl_pl_ePpmJqDa9W/scripts/miaa.js"></script>

    <div id="miaaInit" class="miaa-init">
        <div id="miaaWrapper" class="miaa-wrapper">
            <a href="#" id="captureSignInLink" onclick="signMeIn();">signMeIn</a>
            <a href="#" id="captureProfileLink" onclick="miaa_showEditProfile();" style="display:none">miaa_showEditProfile</a>
            <a href="#" id="captureSignOutLink" style="display:none" onclick="janrain.capture.ui.endCaptureSession();">janrain.capture.ui.endCaptureSession</a>

            <!-- TODO: Inject display:none here in non-dev environments -->
            <div style="font-size:0.5em">
                <br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
                <hr />
                <div id="debug-info"></div>
                <div id="flow-version"></div>
            </div>

            <div id="flow-version"></div>

        </div>
    </div>

    <script>
        function miaa_onCaptureLoginSuccess(result) {
            console.log("miaa_onCaptureLoginSuccess");
            document.getElementById("captureSignInLink").style.display = 'none';
            document.getElementById("captureRegisterLink").style.display = 'none';
            document.getElementById("captureSignOutLink").style.display = '';
            document.getElementById("captureProfileLink").style.display = '';
        }

        function miaa_onCaptureSessionFound(result) {
            console.log("miaa_onCaptureSessionFound");
            document.getElementById("captureSignInLink").style.display = 'none';
            document.getElementById("captureRegisterLink").style.display = 'none';
            document.getElementById("captureSignOutLink").style.display = '';
            document.getElementById("captureProfileLink").style.display = '';
        }

        function miaa_onCaptureSessionNotFound(){
            document.getElementById("captureSignInLink").style.display = '';
            document.getElementById("captureRegisterLink").style.display = '';
            document.getElementById("captureSignOutLink").style.display = 'none';
            document.getElementById("captureProfileLink").style.display = 'none';
        }

        function miaa_onCaptureRegistrationSuccess(result){
            console.log("miaa_onCaptureRegistrationSuccess");
        }

        function miaa_onCaptureSessionEnded(result) {
            console.log("miaa_onCaptureSessionEnded");
            miaa_onCaptureSessionNotFound();
        }

        function miaa_onSecondScreenSaved(){
            console.log("miaa_onSecondScreenSaved");
        }

        function signMeIn() {
            document.getElementById('miaaNonModal').style.display = '';
            janrain.capture.ui.renderScreen('signIn');
        }

        function register() {
            document.getElementById('miaaNonModal').style.display = '';
            janrain.capture.ui.renderScreen('traditionalRegistration');
        }
    </script>

    {{content-for "body-footer"}}
  </body>
</html>
